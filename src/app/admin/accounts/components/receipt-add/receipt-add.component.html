<div class="container">
  <div class="row clearfix">
    <div class="col-lg-12 uni-head">
      <h4>New Receipt</h4>
    </div>
    <div class="col-lg-12">
      <table class="table table-bordered">
        <tbody>
        <tr>
          <td></td>
          <td></td>
          <td class="text-right"><span class="balance-txt">Dr</span></td>
          <td class="text-right"><span class="balance-txt">Cr</span></td>
        </tr>

        <tr *ngFor="let cashOrBank of paymentCreateForm.cashOrBank;let i = index">
          <td>
            <div class="col-md-auto">
              <label>Bank/Cash</label>
              <select class="form-control custom-select" STYLE="display: inline-block;" [(ngModel)]="cashOrBank.ledgerId">
                <option value="0" selected>--Select Bank/Cash--</option>
                <option *ngFor="let bank of bankOrCash" value="{{bank.id}}">{{bank.name}}</option>
              </select>
            </div>
            <div class="col col-md-12 text-right">
              <button *ngIf="i==0"  class="btn btn-success btn-sm btn-ad-new" (click)="addPaymentAccount()"><i class="fa fa-plus-circle"></i></button>
              <button *ngIf="i>0" class="btn btn-danger btn-sm btn-ad-new" (click)="removePaymentAccount(i)"><i class="fa fa-minus-circle"></i></button>
            </div>
          </td>
          <td>
            <label>Amount</label>
            <input type="number" name="asd" class="form-control" [disabled]="cashOrBank.ledgerId <=0" [(ngModel)]="cashOrBank.amount">
          </td>
          <td class="text-right"><span class="balance-txt" *ngIf="cashOrBank.amount;else CashOrBankAmount">${{cashOrBank.amount}}</span></td>
          <td class="text-right"><span class="balance-txt"></span></td>
          <ng-template #CashOrBankAmount><span class="balance-txt">$0</span></ng-template>
        </tr>
        <tr>
          <td>
            <div class="col-md-auto">
              <label>Beneficial Account</label>
              <select class="form-control custom-select" STYLE="display: inline-block;" [(ngModel)]="paymentCreateForm.beneficial.ledgerId">
                <option value="0" selected>--Select Beneficial Account--</option>
                <option *ngFor="let beneficial of beneficialAccount" value="{{beneficial.id}}">{{beneficial.name}}</option>
              </select>
            </div>
          </td>
          <td>
            <label>Amount</label>
            <input type="number" class="form-control" min="0" [disabled]="paymentCreateForm.beneficial.ledgerId <=0" [(ngModel)]="paymentCreateForm.beneficial.amount" >
          </td>
          <td class="text-right"><span class="balance-txt"></span></td>
          <td class="text-right"><span class="balance-txt" *ngIf="paymentCreateForm.beneficial.amount;else beneficialAmount">${{paymentCreateForm.beneficial.amount}}</span></td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
          <td colspan="2" class="text-right">
            <span class="balance-txt">Total</span>
          </td>
          <td class="text-right">
            <span class="balance-txt">${{getTotalDrAmount()}}</span>
          </td>
          <td class="text-right">
            <span class="balance-txt" *ngIf="paymentCreateForm.beneficial.amount; else beneficialAmount">${{paymentCreateForm.beneficial.amount}}</span>
            <ng-template #beneficialAmount><span class="balance-txt">$0</span></ng-template>
          </td>
        </tr>
        </tfoot>
      </table>
      <br>
      <div class="form-row">
        <div class="form-group col col-md-3">
          <label>Date</label>
          <input type="text" id="saleDate" class="form-control datepick">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-3">
          <label>Remarks</label>
          <textarea class="form-control"></textarea>
        </div>
      </div>

    </div>
    <div class="row" *ngIf="errors.length>0">
      <p>Errors :</p>
      <ul>
        <li class="alert-danger" *ngFor="let error of errors">{{error.msg}}</li>
      </ul>
    </div>


    <div class="col-lg-12">
      <hr>
      <button type="submit" class="btn btn-primary" (click)="submitReceipt()">Pay Now</button>
    </div>

  </div>
</div>
